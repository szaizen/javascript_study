<!DOCTYPE html>
<html lang="ja" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Timer</title>
  <style media="screen">
    body {
      text-align: center;
    }

    .timerstart,
    .addseconds {
      background-color: white;
      border: 1px solid black;
      font-size: 15px;
      margin: 10px 0 0;
      padding: 5px 20px;
      cursor: pointer;
      transition: 0.4s;
    }

    #timerstart:hover,
    #addseconds:hover {
      background-color: black;
      color: white;
    }

    .timer {
      font-size: 40px;
      margin: 10px 0;
    }
  </style>
</head>

<body>

  <div class="card_list">
    <section class="card">
      <input type="button" value="タイマー開始" id="timerstart1" class="timerstart" />
      <button id="addseconds1" class="addseconds">10秒追加</button>
      <h2>商品１</h2>
      <div class="timer" id="timer1">60</div>
    </section>
    <section class="card">
      <input type="button" value="タイマー開始" id="timerstart2" class="timerstart" />
      <button id="addseconds2" class="addseconds">10秒追加</button>
      <h2>商品２</h2>
      <div class="timer" id="timer2">40</div>
    </section>
    <section class="card">
      <input type="button" value="タイマー開始" id="timerstart3" class="timerstart" />
      <button class="addseconds" id="addseconds3">10秒追加</button>
      <h2>商品３</h2>
      <div class="timer" id="timer3">100</div>
    </section>
  </div>

  <script type="text/javascript">
    class Timer {

      constructor(seconds, targetId) {
        this.total = seconds;
        this.targetId = targetId;
        this.timercount;
      }

      // 1秒ずつカウント
      count() {
        this.show(this.total);
        if (this.total < 0) {
          this.stop();
        }
        this.total -= 1;
      }

      // タイマー開始
      start() {
        this.show('Start!!');
        this.timercoun = setInterval(() => {
          this.count();
        }, 1000);
      }

      // タイマー停止
      stop() {
        this.show('終了');
        clearInterval(this.timercoun);
      }

      // 秒数追加
      add(second) {
        this.total += second;
      }

      // タイマー表示
      show(text) {
        document.getElementById(this.targetId).innerText = text;
      }

    }

    let timer1;
    let timer2;
    let timer3;

    document.getElementById('timerstart1').onclick = function() {
      if (timer1 == null) {
        timer1 = new Timer(60, 'timer1');
        timer1.start();
      };
    };

    document.getElementById('addseconds1').onclick = function() {
      timer1.add(10);
    };

    document.getElementById('timerstart2').onclick = function() {
      if (timer2 == null) {
        timer2 = new Timer(40, 'timer2');
        timer2.start();
      };
    };

    document.getElementById('addseconds2').onclick = function() {
      timer2.add(10);
    };

    document.getElementById('timerstart3').onclick = function() {
      if (timer3 == null) {
        timer3 = new Timer(100, 'timer3');
        timer3.start();
      };
    };

    document.getElementById('addseconds3').onclick = function() {
      timer3.add(10);
    };
  </script>

</body>

</html>
